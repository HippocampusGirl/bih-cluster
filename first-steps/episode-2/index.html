



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Public documentation of the BIH HPC infrastructure.">
      
      
        <link rel="canonical" href="https://bihealth.github.io/bih-cluster/first-steps/episode-2/">
      
      
        <meta name="author" content="BIH HPC IT">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>Episode 2 - BIH HPC Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.adb8469c.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#first-steps-episode-2" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://bihealth.github.io/bih-cluster" title="BIH HPC Docs" aria-label="BIH HPC Docs" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              BIH HPC Docs
            </span>
            <span class="md-header-nav__topic">
              
                Episode 2
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/bihealth/bih-cluster/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    BIH HPC Docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://bihealth.github.io/bih-cluster" title="BIH HPC Docs" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    BIH HPC Docs
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/bihealth/bih-cluster/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    BIH HPC Docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Administrative
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Administrative
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/getting-access/" title="Getting Access" class="md-nav__link">
      Getting Access
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/resource-registration/" title="Resource Registration" class="md-nav__link">
      Resource Registration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/maintenance/" title="Maintenance etc." class="md-nav__link">
      Maintenance etc.
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/provided-software/" title="Provided Software" class="md-nav__link">
      Provided Software
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Getting Help
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Getting Help
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../help/helpdesk/" title="HPC Helpdesk" class="md-nav__link">
      HPC Helpdesk
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../help/good-tickets/" title="Good Tickets" class="md-nav__link">
      Good Tickets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../help/faq/" title="Frequently Asked Questions" class="md-nav__link">
      Frequently Asked Questions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Overview
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Overview
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/for-the-impatient/" title="For the Impatient" class="md-nav__link">
      For the Impatient
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/architecture/" title="Architecture" class="md-nav__link">
      Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/job-scheduler/" title="Job Scheduler" class="md-nav__link">
      Job Scheduler
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/storage/" title="Nodes and Volumes" class="md-nav__link">
      Nodes and Volumes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Connecting
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Connecting
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-1" type="checkbox" id="nav-5-1">
    
    <label class="md-nav__link" for="nav-5-1">
      Generate Keys
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-1">
        Generate Keys
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../connecting/generate-key/linux/" title="Linux" class="md-nav__link">
      Linux
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../connecting/generate-key/windows/" title="Windows" class="md-nav__link">
      Windows
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2">
    
    <label class="md-nav__link" for="nav-5-2">
      Submit Keys
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-2">
        Submit Keys
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../connecting/submit-key/charite/" title="Charite" class="md-nav__link">
      Charite
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../connecting/submit-key/mdc/" title="MDC" class="md-nav__link">
      MDC
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3">
    
    <label class="md-nav__link" for="nav-5-3">
      Configure Client
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-3">
        Configure Client
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../connecting/configure-ssh/prerequisites/" title="Pre-Requisites" class="md-nav__link">
      Pre-Requisites
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../connecting/configure-ssh/linux/" title="Linux" class="md-nav__link">
      Linux
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../connecting/configure-ssh/windows/" title="Windows" class="md-nav__link">
      Windows
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../connecting/configure-ssh/connection-problems/" title="Connection Problems" class="md-nav__link">
      Connection Problems
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../connecting/from-external/" title="From External" class="md-nav__link">
      From External
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../connecting/ssh-client-windows/" title="Windows SSH Client" class="md-nav__link">
      Windows SSH Client
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      First Steps
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        First Steps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../episode-0/" title="Episode 0" class="md-nav__link">
      Episode 0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../episode-1/" title="Episode 1" class="md-nav__link">
      Episode 1
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Episode 2
      </label>
    
    <a href="./" title="Episode 2" class="md-nav__link md-nav__link--active">
      Episode 2
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-qsub-command" class="md-nav__link">
    The qsub Command
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-jobs" class="md-nav__link">
    Monitoring Jobs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#job-queues" class="md-nav__link">
    Job Queues
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../episode-3/" title="Episode 3" class="md-nav__link">
      Episode 3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../episode-4/" title="Episode 4" class="md-nav__link">
      Episode 4
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Storage
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Storage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../storage/accessing-snapshots/" title="Accessing Snapshots" class="md-nav__link">
      Accessing Snapshots
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../storage/querying-storage/" title="Querying Quotas" class="md-nav__link">
      Querying Quotas
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../storage/storage-locations/" title="Storage Locations" class="md-nav__link">
      Storage Locations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Slurm Scheduler
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Slurm Scheduler
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../slurm/quickstart/" title="Slurm Quickstart" class="md-nav__link">
      Slurm Quickstart
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../slurm/cheat-sheet/" title="Slurm Cheat Sheet" class="md-nav__link">
      Slurm Cheat Sheet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../slurm/migrating/" title="Migrating to Slurm" class="md-nav__link">
      Migrating to Slurm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../slurm/job-scripts/" title="Slurm Job Scripts" class="md-nav__link">
      Slurm Job Scripts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../slurm/snakemake/" title="Snakemake with Slurm" class="md-nav__link">
      Snakemake with Slurm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../slurm/rosetta-stone/" title="Slurm Rosetta Stone" class="md-nav__link">
      Slurm Rosetta Stone
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../slurm/x11/" title="X11 Forwarding" class="md-nav__link">
      X11 Forwarding
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Best Practice
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Best Practice
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../best-practice/project-structure/" title="Project Structure" class="md-nav__link">
      Project Structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../best-practice/software-craftmanship/" title="Software Craftmanship" class="md-nav__link">
      Software Craftmanship
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../best-practice/screen-tmux/" title="Using Screen/Tmux" class="md-nav__link">
      Using Screen/Tmux
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../best-practice/bashrc-guide/" title="~/.bashrc Guide" class="md-nav__link">
      ~/.bashrc Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../best-practice/temp-files/" title="Temporary Files" class="md-nav__link">
      Temporary Files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../best-practice/env-modules/" title="Custom Environment Modules" class="md-nav__link">
      Custom Environment Modules
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../best-practice/software-installation-with-conda/" title="Install with Conda" class="md-nav__link">
      Install with Conda
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Static Data
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Static Data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cubit/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cubit/annotations/" title="Annotations" class="md-nav__link">
      Annotations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cubit/app-support/" title="Application Support" class="md-nav__link">
      Application Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cubit/databases/" title="Databases" class="md-nav__link">
      Databases
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cubit/exomes-panels/" title="Exomes and Panels" class="md-nav__link">
      Exomes and Panels
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cubit/exon-lists/" title="Exon Lists" class="md-nav__link">
      Exon Lists
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cubit/index-files/" title="Precomputed Indexes" class="md-nav__link">
      Precomputed Indexes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cubit/references/" title="Reference Sequences" class="md-nav__link">
      Reference Sequences
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      How-To
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        How-To
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-1" type="checkbox" id="nav-11-1">
    
    <label class="md-nav__link" for="nav-11-1">
      Connect
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-1">
        Connect
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to/connect/high-memory/" title="High-Memory Nodes" class="md-nav__link">
      High-Memory Nodes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to/connect/gpu-nodes/" title="GPU Nodes" class="md-nav__link">
      GPU Nodes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-2" type="checkbox" id="nav-11-2">
    
    <label class="md-nav__link" for="nav-11-2">
      Software
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-2">
        Software
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to/software/openmpi/" title="OpenMPI" class="md-nav__link">
      OpenMPI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to/software/scientific-software/" title="Scientific Software" class="md-nav__link">
      Scientific Software
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to/software/cell-ranger/" title="Cell Ranger" class="md-nav__link">
      Cell Ranger
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to/software/jupyter/" title="Jupyter" class="md-nav__link">
      Jupyter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to/software/keras/" title="Keras" class="md-nav__link">
      Keras
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to/software/matlab/" title="Matlab" class="md-nav__link">
      Matlab
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to/software/tensorflow/" title="Tensorflow" class="md-nav__link">
      Tensorflow
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-3" type="checkbox" id="nav-11-3">
    
    <label class="md-nav__link" for="nav-11-3">
      Service
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-3">
        Service
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to/service/file-exchange/" title="File Exchange" class="md-nav__link">
      File Exchange
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-4" type="checkbox" id="nav-11-4">
    
    <label class="md-nav__link" for="nav-11-4">
      Miscellaneous
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-4">
        Miscellaneous
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to/misc/contribute/" title="Contribute to Docs" class="md-nav__link">
      Contribute to Docs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Miscellaneous
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        Miscellaneous
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/publication-list/" title="Publication List" class="md-nav__link">
      Publication List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/external-resources/" title="External Guides" class="md-nav__link">
      External Guides
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/tips/" title="Misc. Tips" class="md-nav__link">
      Misc. Tips
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/ssh-basics/" title="SSH Basics" class="md-nav__link">
      SSH Basics
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-qsub-command" class="md-nav__link">
    The qsub Command
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-jobs" class="md-nav__link">
    Monitoring Jobs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#job-queues" class="md-nav__link">
    Job Queues
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/bihealth/bih-cluster/edit/master/bih-cluster/docs/first-steps/episode-2.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="first-steps-episode-2">First Steps: Episode 2<a class="headerlink" href="#first-steps-episode-2" title="Permanent link">&para;</a></h1>
<table>
<thead>
<tr>
<th>Episode</th>
<th>Topic</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td><a href="../episode-0/">How can I install the tools?</a></td>
</tr>
<tr>
<td>1</td>
<td><a href="../episode-1/">How can I use the static data?</a></td>
</tr>
<tr>
<td><strong>2</strong></td>
<td><strong>How can I distribute my jobs on the cluster (<code>qsub</code>)?</strong></td>
</tr>
<tr>
<td>3</td>
<td><a href="../episode-3/">How can I organize my jobs with Snakemake?</a></td>
</tr>
<tr>
<td>4</td>
<td><a href="../episode-4/">How can I combine Snakemake and <code>qsub</code>?</a></td>
</tr>
</tbody>
</table>
<p>Welcome to the second episode of our tutorial series!</p>
<p>Once you are logged in to the cluster, you have the possibility to distribute your jobs to all the nodes that are available.
But how can you do this easily?
The key command to this magic is <code>qsub</code>.
This tutorial will show you how you can use this efficiently.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Before using <code>qsub</code>, make sure that you logged in using <code>qrsh</code> once you entered the login node via ssh, as described in <a href="../../connecting/configure-ssh/linux/">Connecting via SSH</a>.</p>
</div>
<h2 id="the-qsub-command">The <code>qsub</code> Command<a class="headerlink" href="#the-qsub-command" title="Permanent link">&para;</a></h2>
<p>So what is <code>qsub</code> doing for you?</p>
<p>You use the <code>qsub</code> command in front of the script you actually want to run.
<code>qsub</code> then puts your job into the job queue.
The job scheduler looks at the current status of the whole system and will assign the first job in the queue to a node that is free in terms of computational load.
If all machines are busy, yours will wait.
But your job will sooner or later get assigned to a free node.</p>
<p>We strongly recommend using this process for starting your computationally intensive tasks because you will get the best performance for your job and the
whole system won't be disturbed by jobs that are locally blocking nodes.
Thus, everybody using the cluster benefits.</p>
<p>You may have noticed that you run <code>qsub</code> with a script, not with regular commands.
The reason is that <code>qsub</code> only accepts bash scripts.
If you give <code>qsub</code> a normal shell command or binary, it won't work.
This means that we have to put the command(s) we want to use in a bash script.
A skeleton script can be found at <code>/fast/projects/cubit/work/tutorial/skeletons/submit_job.sh</code></p>
<p>The content of the file:</p>
<div class="codehilite"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Define the expected running time of your job.</span>
<span class="c1">#$ -l h_rt=24:00:00</span>

<span class="c1"># Define the project you want to enqueue your job to,</span>
<span class="c1"># according to the expected running time.</span>
<span class="c1">#$ -P medium</span>

<span class="c1"># Combine stderr and stdout log files into the stdout log file.</span>
<span class="c1">#$ -j y</span>

<span class="c1"># Keep current environment variables.</span>
<span class="c1">#$ -V</span>

<span class="c1"># Use current working directory as working directory of the job.</span>
<span class="c1">#$ -cwd</span>

<span class="c1"># Set the log directory.</span>
<span class="c1">#$ -o logs</span>

<span class="nb">export</span> <span class="nv">TMPDIR</span><span class="o">=</span>/fast/users/<span class="si">${</span><span class="nv">USER</span><span class="si">}</span>/scratch/tmp
mkdir -p <span class="si">${</span><span class="nv">TMPDIR</span><span class="si">}</span>
</code></pre></div>

<p>The lines starting with <code>#$</code> are actually setting parameters for a <code>qsub</code> command, so <code>#$ -j y</code> is equal to <code>qsub -j y</code>.
If the <code>logs</code> value in the <code>-o</code> parameter refers to an existing directory, <code>qsub</code> will create a logfile inside this directory.
If it does not exist, <code>qsub</code> will create a file named <code>logs</code> and put the log content there.
We recommend having the directory available before starting the job.
We also emphasize the importance of the log files!
They are the first place to look if anything goes wrong.</p>
<p>To start now with our tutorial, create a new tutorial directory with a log directory, e.g.,</p>
<div class="codehilite"><pre><span></span><code>(first-steps) $ mkdir -p /fast/users/$USER/work/tutorial/episode2/logs
</code></pre></div>

<p>and copy the wrapper script to this directory:</p>
<div class="codehilite"><pre><span></span><code>(first-steps) $ pushd /fast/users/$USER/work/tutorial/episode2
(first-steps) $ cp /fast/projects/cubit/work/tutorial/skeletons/submit_job.sh .
(first-steps) $ chmod u+w submit_job.sh
</code></pre></div>

<p>Now open this file and copy the same commands we executed in the last tutorial to this file.</p>
<p>To keep it simple, we will put everything into one script.
This is perfectly fine because the alignment and indexing are sequential.
But there are two steps that could be run in parallel, namely the variant calling, because they don't depend on each other.
We will learn how to do that in a later tutorial.
Your file should look something like this:</p>
<div class="codehilite"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Define the expected running time of your job.</span>
<span class="c1">#$ -l h_rt=24:00:00</span>

<span class="c1"># Define the project you want to enqueue your job to,</span>
<span class="c1"># according to the expected running time.</span>
<span class="c1">#$ -P medium</span>

<span class="c1"># Combine stderr and stdout log files into stdout log file.</span>
<span class="c1">#$ -j y</span>

<span class="c1"># Keep current environment variables.</span>
<span class="c1">#$ -V</span>

<span class="c1"># Use current working directory as working directory of the job.</span>
<span class="c1">#$ -cwd</span>

<span class="c1"># Set the log directory.</span>
<span class="c1">#$ -o logs</span>

<span class="nb">export</span> <span class="nv">TMPDIR</span><span class="o">=</span>/fast/users/<span class="si">${</span><span class="nv">USER</span><span class="si">}</span>/scratch/tmp
mkdir -p <span class="si">${</span><span class="nv">TMPDIR</span><span class="si">}</span>

<span class="nv">BWAREF</span><span class="o">=</span>/fast/projects/cubit/current/static_data/precomputed/BWA/0.7.15/GRCh37/g1k_phase1/human_g1k_v37.fasta
<span class="nv">REF</span><span class="o">=</span>/fast/projects/cubit/current/static_data/reference/GRCh37/g1k_phase1/human_g1k_v37.fasta

bwa mem -t <span class="m">8</span> <span class="se">\</span>
    -R <span class="s2">&quot;@RG\tID:FLOWCELL.LANE\tPL:ILLUMINA\tLB:test\tSM:PA01&quot;</span> <span class="se">\</span>
    <span class="nv">$BWAREF</span> <span class="se">\</span>
    /fast/projects/cubit/work/tutorial/input/test_R1.fq.gz <span class="se">\</span>
    /fast/projects/cubit/work/tutorial/input/test_R2.fq.gz <span class="se">\</span>
<span class="p">|</span> samtools view -b - <span class="se">\</span>
<span class="p">|</span> samtools sort -O BAM -T <span class="nv">$TMPDIR</span> -o aln.bam

samtools index aln.bam

delly call -g <span class="se">\</span>
    <span class="nv">$REF</span> <span class="se">\</span>
    aln.bam

gatk-launch HaplotypeCaller <span class="se">\</span>
    -R <span class="nv">$REF</span> <span class="se">\</span>
    -I aln.bam <span class="se">\</span>
    -ploidy <span class="m">2</span> <span class="se">\</span>
    -O test.GATK.vcf
</code></pre></div>

<p>Let's run it (make sure that you are in the <code>tutorial/episode2</code> directory!):</p>
<div class="codehilite"><pre><span></span><code>(first-steps) $ qsub submit_job.sh
</code></pre></div>

<p>And wait for the response which will tell you that your job was submitted and which job id number it was assigned. Note that <code>qsub</code> only tells you that the job has started, but nothing about finishing. You won't get any response at the terminal when the job finishes. It will take approximately 20 minutes to finish the job.</p>
<h2 id="monitoring-jobs">Monitoring Jobs<a class="headerlink" href="#monitoring-jobs" title="Permanent link">&para;</a></h2>
<p>You'll probably want to see how your job is doing. You can get a list of your jobs using:</p>
<div class="codehilite"><pre><span></span><code>(first-steps) $ qstat
</code></pre></div>

<p>Note that logins are also considered as jobs, albeit "interactive" and not "batch" jobs.</p>
<p>Identify your job by the <code>&lt;JOBID&gt;</code> (1<sup>st</sup> column) or the name of the script (3<sup>rd</sup> column).
The most likely states you will see (4<sup>th</sup> column of the table):</p>
<ul>
<li><code>qw</code> waiting to be submitted</li>
<li><code>r</code> running</li>
<li><code>Eqw</code> in error queue</li>
<li>disappeared, either because of an error or because it finished</li>
</ul>
<p>In the 8<sup>th</sup> column (queue) you can see that your job is very likely running on a different machine than the one you are on!</p>
<p>Get more information about your jobs by either passing the job id when it is in the <code>r</code> or <code>Eqw</code> state:</p>
<div class="codehilite"><pre><span></span><code>(first-steps) $ qstat -j &lt;JOBID&gt;
</code></pre></div>

<p>Once a job is complete, you can use <code>qacct -j &lt;JOBID&gt;</code> to see information on your job.</p>
<p>And of course, watch what the logs are telling you:</p>
<div class="codehilite"><pre><span></span><code>(first-steps) $ tail -f logs/submit_job.sh.o&lt;JOBID&gt;
</code></pre></div>

<p>There will be no notification when your job is done, so it is best to watch the <code>qstat</code> command.
To watch the <code>qsub</code> command there is a linux command <code>watch</code> that you give a command to execute every few seconds.
This is useful for looking for changes in the output of a command. The seconds between two executions can be set with the <code>-n</code> option.
<img alt="⚠" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/26a0.svg" title=":warning:" /> It is best to use <code>-n 60</code> to minimize unnecessary load on the file system:</p>
<p><div class="codehilite"><pre><span></span><code>(first-steps) $ watch -n 60 qstat
</code></pre></div>
If for some reason your job is hanging (eg. file_not_found situations), you can delete your job using <code>qdel</code> with your job-ID:
<div class="codehilite"><pre><span></span><code>(first-steps) $ qdel &lt;job-ID&gt;
</code></pre></div></p>
<h2 id="job-queues">Job Queues<a class="headerlink" href="#job-queues" title="Permanent link">&para;</a></h2>
<p>You might have noticed that the job you submitted when you monitor it with <code>qstat</code>
is running in the <code>medium.q</code> queue (in the 7<sup>th</sup> column named <code>queue</code> you will see something like <code>medium.q@med0...</code>).</p>
<p>The cluster has a special way of organizing itself and by telling the cluster how long and with which priority you want your jobs to run, you can help it in this.
There is a system set up on the cluster where you can enqueue your jobs to so-called <em>projects</em>. <em>projects</em> have different prioritites and are allowed for different running times.
Those <em>projects</em> have queues assigned carrying the same name as the project, e.g. submitting a job to project <code>long</code> might end up in queue <code>long.q</code>, but not necessarily.
To get to know why this is, what projects are available, and how to use them properly, we highly encourage you to read the <a href="../../overview/job-scheduler/">cluster queues wiki page</a>.</p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../episode-1/" title="Episode 1" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Episode 1
              </span>
            </div>
          </a>
        
        
          <a href="../episode-3/" title="Episode 3" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Episode 3
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            2016-2020, BIH HPC IT
          </div>
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:"../.."}})</script>
      
    
  </body>
</html>