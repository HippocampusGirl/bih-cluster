



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Public documentation of the BIH HPC infrastructure.">
      
      
        <link rel="canonical" href="https://bihealth.github.io/bih-cluster/best-practice/project-structure/">
      
      
        <meta name="author" content="BIH HPC IT">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>Project Structure - BIH HPC Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.adb8469c.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#project-file-system-structure" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://bihealth.github.io/bih-cluster" title="BIH HPC Docs" aria-label="BIH HPC Docs" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              BIH HPC Docs
            </span>
            <span class="md-header-nav__topic">
              
                Project Structure
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/bihealth/bih-cluster/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    BIH HPC Docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://bihealth.github.io/bih-cluster" title="BIH HPC Docs" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    BIH HPC Docs
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/bihealth/bih-cluster/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    BIH HPC Docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Administrative
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Administrative
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/getting-access/" title="Getting Access" class="md-nav__link">
      Getting Access
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/resource-registration/" title="Resource Registration" class="md-nav__link">
      Resource Registration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/maintenance/" title="Maintenance etc." class="md-nav__link">
      Maintenance etc.
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Getting Help
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Getting Help
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../help/helpdesk/" title="HPC Helpdesk" class="md-nav__link">
      HPC Helpdesk
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../help/good-tickets/" title="Good Tickets" class="md-nav__link">
      Good Tickets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../help/faq/" title="Frequently Asked Questions" class="md-nav__link">
      Frequently Asked Questions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Manual
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Manual
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../manual/for-the-impatient/" title="For the Impatient" class="md-nav__link">
      For the Impatient
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../manual/architecture/" title="Architecture" class="md-nav__link">
      Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../manual/job-scheduler/" title="Job Scheduler" class="md-nav__link">
      Job Scheduler
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../manual/storage/" title="Storage Volumes" class="md-nav__link">
      Storage Volumes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Connecting
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Connecting
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../connecting/generate-key/" title="Generate Keys" class="md-nav__link">
      Generate Keys
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../connecting/submit-key/" title="Submit Keys" class="md-nav__link">
      Submit Keys
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../connecting/configure-ssh/" title="Configure Client" class="md-nav__link">
      Configure Client
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../connecting/from-external/" title="From External" class="md-nav__link">
      From External
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Slurm Scheduler
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Slurm Scheduler
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../slurm/quickstart/" title="Slurm Quickstart" class="md-nav__link">
      Slurm Quickstart
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../slurm/cheat-sheet/" title="Slurm Cheat Sheet" class="md-nav__link">
      Slurm Cheat Sheet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../slurm/migrating/" title="Migrating to Slurm" class="md-nav__link">
      Migrating to Slurm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../slurm/job-scripts/" title="Slurm Job Scripts" class="md-nav__link">
      Slurm Job Scripts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../slurm/snakemake/" title="Snakemake with Slurm" class="md-nav__link">
      Snakemake with Slurm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../slurm/rosetta-stone/" title="Slurm Rosetta Stone" class="md-nav__link">
      Slurm Rosetta Stone
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../slurm/x11/" title="X11 Forwarding" class="md-nav__link">
      X11 Forwarding
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked>
    
    <label class="md-nav__link" for="nav-7">
      Best Practice
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Best Practice
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Project Structure
      </label>
    
    <a href="./" title="Project Structure" class="md-nav__link md-nav__link--active">
      Project Structure
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general-aims" class="md-nav__link">
    General Aims
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    Best Practices
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scripts" class="md-nav__link">
    Scripts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data" class="md-nav__link">
    Data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices-in-practice" class="md-nav__link">
    Best Practices in Practice
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-link-configscripts-into-work-location-option-1" class="md-nav__link">
    Example: Link config/scripts into work location (Option 1)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-link-data-into-home-option-21" class="md-nav__link">
    Example: Link Data Into Home (Option 2.1).
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-wrapper-scripts-in-home-option-22" class="md-nav__link">
    Example: Wrapper Scripts in Home (Option 2.2)
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../software-craftmanship/" title="Software Craftmanship" class="md-nav__link">
      Software Craftmanship
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../screen-tmux/" title="Using Screen/Tmux" class="md-nav__link">
      Using Screen/Tmux
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../bashrc-guide/" title="~/.bashrc Guide" class="md-nav__link">
      ~/.bashrc Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../temp-files/" title="Temporary Files" class="md-nav__link">
      Temporary Files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../env-modules/" title="Custom Environment Modules" class="md-nav__link">
      Custom Environment Modules
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Cubit Static Data
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Cubit Static Data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cubit/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cubit/annotations/" title="Annotations" class="md-nav__link">
      Annotations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cubit/app-support/" title="Application Support" class="md-nav__link">
      Application Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cubit/databases/" title="Databases" class="md-nav__link">
      Databases
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cubit/exomes-panels/" title="Exomes and Panels" class="md-nav__link">
      Exomes and Panels
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cubit/exon-lists/" title="Exon Lists" class="md-nav__link">
      Exon Lists
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cubit/index-files/" title="Precomputed Indexes" class="md-nav__link">
      Precomputed Indexes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cubit/references/" title="Reference Sequences" class="md-nav__link">
      Reference Sequences
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      How-To
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        How-To
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to/misc/contribute/" title="Contribute to Docs" class="md-nav__link">
      Contribute to Docs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to/connect/high-memory/" title="High-Memory Nodes" class="md-nav__link">
      High-Memory Nodes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to/connect/gpu-nodes/" title="GPU Nodes" class="md-nav__link">
      GPU Nodes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to/software/openmpi/" title="OpenMPI" class="md-nav__link">
      OpenMPI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to/software/scientific-software/" title="Scientific Software" class="md-nav__link">
      Scientific Software
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to/software/cell-ranger/" title="Cell Ranger" class="md-nav__link">
      Cell Ranger
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to/software/jupyter/" title="Jupyter" class="md-nav__link">
      Jupyter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to/software/keras/" title="Keras" class="md-nav__link">
      Keras
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to/software/matlab/" title="Matlab" class="md-nav__link">
      Matlab
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to/software/tensorflow/" title="Tensorflow" class="md-nav__link">
      Tensorflow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to/service/file-exchange/" title="File Exchange" class="md-nav__link">
      File Exchange
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Miscellaneous
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Miscellaneous
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/publication-list/" title="Publication List" class="md-nav__link">
      Publication List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/external-resources/" title="External Guides" class="md-nav__link">
      External Guides
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/tips/" title="Misc. Tips" class="md-nav__link">
      Misc. Tips
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/ssh-basics/" title="SSH Basics" class="md-nav__link">
      SSH Basics
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general-aims" class="md-nav__link">
    General Aims
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    Best Practices
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scripts" class="md-nav__link">
    Scripts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data" class="md-nav__link">
    Data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices-in-practice" class="md-nav__link">
    Best Practices in Practice
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-link-configscripts-into-work-location-option-1" class="md-nav__link">
    Example: Link config/scripts into work location (Option 1)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-link-data-into-home-option-21" class="md-nav__link">
    Example: Link Data Into Home (Option 2.1).
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-wrapper-scripts-in-home-option-22" class="md-nav__link">
    Example: Wrapper Scripts in Home (Option 2.2)
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/bihealth/bih-cluster/edit/master/bih-cluster/docs/best-practice/project-structure.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="project-file-system-structure">Project File System Structure<a class="headerlink" href="#project-file-system-structure" title="Permanent link">&para;</a></h1>
<p>This Wiki page dscribes best pratices for managing your Bioinformatics projects on the file system.</p>
<h2 id="general-aims">General Aims<a class="headerlink" href="#general-aims" title="Permanent link">&para;</a></h2>
<p>Mostly, you can separate the files in your projects/pipelines into one of the following categories:</p>
<ol>
<li>scripts (and their documentation)</li>
<li>configuration</li>
<li>data</li>
</ol>
<p>Ideally, scripts and documentation are independent of a given project and can be separated from the rest.
Configuration is project-dependent and small and mostly does not contain any sensitive information (such as genotypes that allows for reidentification of donors).
In most cases, data might be large and is either also stored elsewhere or together with scripts and configuration can be regenerated easily.</p>
<div class="admonition warning">
<p class="admonition-title">There is no backup of <code>work</code> and <code>scratch</code></p>
<p>The cluster GPFS file system <code>/fast</code> is not appropriate for keeping around single "master" copies of data.
You should have a backup and archival strategy for your valuable "master" copy data.</p>
</div>
<h2 id="best-practices">Best Practices<a class="headerlink" href="#best-practices" title="Permanent link">&para;</a></h2>
<h3 id="scripts">Scripts<a class="headerlink" href="#scripts" title="Permanent link">&para;</a></h3>
<ul>
<li>Your scripts should go into version control, e.g., a Git repository.</li>
<li>Your scripts should be driven by command line parameters and/or configuration such that no paths etc. are hard-coded.
  If for a second data set, you need to make a copy of your scripts and adjust some variables, e.g., at the top, you're doing something in a suboptimal fashion.
  Rather, get these values from the command line or a configuration file and only store (sensible) defaults in your script where appropriate.</li>
<li>Thus, ideally your scripts are not project-specific.</li>
</ul>
<h3 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h3>
<ul>
<li>Your configuration usually <strong>is</strong> project-specific.</li>
<li>Your configuration should also go into version contro, e.g., a Git repository.</li>
</ul>
<p>In addition, you might need project-specific "wrapper" scripts that just call your project-independent script with the correct paths for your project.
These scripts rather fall into the "configuration" category and should then live together with your configuration.</p>
<h3 id="data">Data<a class="headerlink" href="#data" title="Permanent link">&para;</a></h3>
<ul>
<li>Your data should go into a location separate from your scripts and configuration.</li>
<li>Ideally, the raw input data is separated from the work and output files such that you can make these files and directories read-only and don't accidentally damage these files.</li>
<li><strong>You really should keep temporary files in a temporary directory, set the environment variable <code>TMPDIR</code> appropriately and automatically clean them up (see <a href="Manual-Useful-Tips-Temporary-Files">Useful Tips: Temporary Files</a>)</strong></li>
</ul>
<h2 id="best-practices-in-practice">Best Practices in Practice<a class="headerlink" href="#best-practices-in-practice" title="Permanent link">&para;</a></h2>
<p>But how can we put this into practice?
Below, we give some examples of how to do this.
Note that for simplicity's sake we put all scripts and configuration into one directory/repository contrary to the best practices above.
This is for educational purposes only and you should strive for reuseable scripts where it makes sense and separate scripts and configuration.</p>
<p>We will limit this to simple Bash scripts for education's purposes.
You should be able to easily adapt this to your use cases.</p>
<p>Thus, the aim is to separate the data from the non-data part of the project such that we can put the non-data part of the project into a separate location and under version control.
We call the location for non-data part of the project the <strong>home</strong> location of your project and the location for the data part of the project the <strong>work</strong> location of your project.</p>
<p>Overall, we have three options:</p>
<ol>
<li>Your processes are run in the home location and the sub directories used for execution are links into the work location using symlinks.</li>
<li>Your processes are run in the work location and<ol>
<li>the scripts are linked into the work location using symlinks, OR</li>
<li>the scripts are called from the home location, maybe through project-specific wrapper scripts.</li>
</ol>
</li>
</ol>
<h2 id="example-link-configscripts-into-work-location-option-1">Example: Link config/scripts into work location (Option 1)<a class="headerlink" href="#example-link-configscripts-into-work-location-option-1" title="Permanent link">&para;</a></h2>
<p>Creating the work directory and copy the input files into <code>work/input</code>.</p>
<div class="codehilite"><pre><span></span><code>$ mkdir -p project/work/input
$ cp /fast/projects/cubit/tutorial/input/* project/work/input
</code></pre></div>

<p>Creating the home space.
We initialize a Git repository, properly configure the <code>.gitignore</code> file and add a <code>README.md</code> file.</p>
<div class="codehilite"><pre><span></span><code>$ mkdir -p project/home
$ <span class="nb">cd</span> project/home
$ cat <span class="s">&lt;&lt;EOF &gt;.gitignore</span>
<span class="s">*~</span>
<span class="s">.*.sw?</span>
<span class="s">EOF</span>
$ cat <span class="s">&lt;&lt;EOF &gt;README.md</span>
<span class="s"># Example Project</span>

<span class="s">This is an example project with config/scripts linked into work location.</span>
<span class="s">EOF</span>
$ git init
$ git add .gitignore README.md
$ git commit -m <span class="err">&#39;</span>Initial project#
</code></pre></div>

<p>We then create the a simple script for executing the mapping step and a configuration file that gives the path to the index and list of samples to process.</p>
<div class="codehilite"><pre><span></span><code>$ mkdir scripts
$ cat &lt;&lt;<span class="s2">&quot;EOF&quot;</span> &gt;scripts/run-mapping.sh
<span class="c1">#!/bin/bash</span>

<span class="c1"># Unofficial Bash script mode, see:</span>
<span class="c1"># http://redsymbol.net/articles/unofficial-bash-strict-mode/</span>
<span class="nb">set</span> -euo pipefail

<span class="c1"># Get directory to bash file, see</span>
<span class="c1"># https://stackoverflow.com/a/4774063/84349</span>
<span class="nv">SCRIPTPATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span> <span class="nb">cd</span> <span class="s2">&quot;</span><span class="k">$(</span>dirname <span class="s2">&quot;</span><span class="nv">$0</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span> <span class="p">;</span> <span class="nb">pwd</span> -P <span class="k">)</span><span class="s2">&quot;</span>

<span class="c1"># Helper function to print help to stderr.</span>
help<span class="o">()</span>
<span class="o">{</span>
  &gt;<span class="p">&amp;</span><span class="m">2</span> <span class="nb">echo</span> <span class="s2">&quot;Run Mapping Step&quot;</span>
  &gt;<span class="p">&amp;</span><span class="m">2</span> <span class="nb">echo</span> <span class="s2">&quot;&quot;</span>
  &gt;<span class="p">&amp;</span><span class="m">2</span> <span class="nb">echo</span> <span class="s2">&quot;run-mapping.sh [-c config.sh] [-h]&quot;</span>
<span class="o">}</span>

<span class="c1"># Parse command line arguments into bash variables.</span>
<span class="nv">CONFIG</span><span class="o">=</span>
<span class="k">while</span> <span class="nb">getopts</span> <span class="s2">&quot;hs:&quot;</span> arg<span class="p">;</span> <span class="k">do</span>
  <span class="k">case</span> <span class="nv">$arg</span> in
    h<span class="o">)</span>
      help<span class="o">()</span>
      <span class="nb">exit</span>
      <span class="p">;;</span>
    s<span class="o">)</span>
      <span class="nv">CONFIG</span><span class="o">=</span><span class="nv">$OPTARG</span>
      <span class="p">;;</span>
  <span class="k">esac</span>
<span class="k">done</span>

<span class="c1"># Print the executed commands.</span>
<span class="nb">set</span> -x

<span class="c1"># Load default configuration, then load configuration file if any was given.</span>
<span class="nb">source</span> <span class="nv">$SCRIPTPATH</span>/../config/default-config.sh
<span class="k">if</span> <span class="o">[[</span> -z <span class="s2">&quot;</span><span class="nv">$CONFIG</span><span class="s2">&quot;</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">source</span> <span class="nv">$CONFIG</span>
<span class="k">fi</span>

<span class="c1"># Create output directory.</span>
mkdir -p output

<span class="c1"># Actually perform the mapping.  This assumes that you have</span>
<span class="c1"># made the bwa and samtools commands available, e.g., using conda.</span>
<span class="k">for</span> sample in <span class="nv">$SAMPLES</span><span class="p">;</span> <span class="k">do</span>
    bwa mem <span class="se">\</span>
        <span class="nv">$BWA_INDEX</span> <span class="se">\</span>
        input/<span class="si">${</span><span class="nv">sample</span><span class="si">}</span>_R1.fq.gz <span class="se">\</span>
        input/<span class="si">${</span><span class="nv">sample</span><span class="si">}</span>_R2.fq.gz <span class="se">\</span>
    <span class="p">|</span> samtools sort <span class="se">\</span>
        -o output/<span class="si">${</span><span class="nv">sample</span><span class="si">}</span>.bam <span class="se">\</span>
        /dev/stdin
<span class="k">done</span>

EOF
$ chmod +x scripts/run-mapping.sh
$ mkdir -p config
$ cat &lt;&lt;<span class="s2">&quot;EOF&quot;</span> &gt;config/default-config.sh
<span class="nv">BWA_INDEX</span><span class="o">=</span>/fast/projects/cubit/current/static_data/reference/GRCh37/hs37d5/hs37d5.fa
<span class="nv">SAMPLES</span><span class="o">=</span>
EOF
$ cat &lt;&lt;<span class="s2">&quot;EOF&quot;</span> &gt;config/project-config.sh
$ BWA_INDEX comes from default configuration already
<span class="nv">SAMPLES</span><span class="o">=</span><span class="nb">test</span>
EOF
</code></pre></div>

<p>This concludes the basic project setup.
Now, to the symlinks:</p>
<div class="codehilite"><pre><span></span><code>$ <span class="nb">cd</span> ../work
$ ln -s ../home/scripts ../home/config .
</code></pre></div>

<p>And, to the execution...</p>
<div class="codehilite"><pre><span></span><code>$ ./scripts/run-mapping -c config/project-config.sh
<span class="o">[</span>...<span class="o">]</span>
</code></pre></div>

<h2 id="example-link-data-into-home-option-21">Example: Link Data Into Home (Option 2.1).<a class="headerlink" href="#example-link-data-into-home-option-21" title="Permanent link">&para;</a></h2>
<p>We can reuse the project up to the statement "This concludes the basic project setup" in the example for option 1.</p>
<p>Then, we can do the following:</p>
<div class="codehilite"><pre><span></span><code>$ cd ../work
$ mkdir -p output

$ cd ../home
$ cat &lt;&lt;&quot;EOF&quot; &gt;&gt;.gitignore

# Ignore all data
input/
work/
output/
EOF
$ git add .gitignore
$ git commit -m &#39;Ignoring data file in .gitignore&#39;
$ ln -s ../work ../output .
</code></pre></div>

<p>And we can execute everything in the home directory.</p>
<div class="codehilite"><pre><span></span><code>$ ./scripts/run-mapping -c config/project-config.sh
<span class="o">[</span>...<span class="o">]</span>
</code></pre></div>

<h2 id="example-wrapper-scripts-in-home-option-22">Example: Wrapper Scripts in Home (Option 2.2)<a class="headerlink" href="#example-wrapper-scripts-in-home-option-22" title="Permanent link">&para;</a></h2>
<p>Again, we can reuse the project up to the statement "This concludes the basic project setup" in the example for option 1.</p>
<p>Then, we do the following:</p>
<div class="codehilite"><pre><span></span><code>$ cd ../work
$ cat &lt;&lt;&quot;EOF&quot; &gt;do-run-mapping.sh
#!/bin/bash

../home/scripts/run-mapping.sh \
    -c ../home/config/project-config.sh
EOF
$ chmod +x do-run-mapping.sh
</code></pre></div>

<p>Note that the the <code>do-run.sh</code> script could also go into the project-specific Git repository and be linked into the work directory.</p>
<p>Finally, we can run our pipeline:</p>
<div class="codehilite"><pre><span></span><code>$ <span class="nb">cd</span> ../work
$ ./do-run-mapping.sh
<span class="o">[</span>...<span class="o">]</span>
</code></pre></div>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../slurm/x11/" title="X11 Forwarding" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                X11 Forwarding
              </span>
            </div>
          </a>
        
        
          <a href="../software-craftmanship/" title="Software Craftmanship" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Software Craftmanship
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            2016-2020, BIH HPC IT
          </div>
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:"../.."}})</script>
      
    
  </body>
</html>